---
title: "GitHub and R"
subtitle: "An Introduction for FWS Biologists"  
author: "McCrea Cobb"
date: '`r Sys.Date()`'
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: xaringan-themer.css
    nature:
      beforeInit: "macros.js"
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
```

```{r xaringan-themer, include=FALSE}
library(xaringanthemer)
solarized_light(
  code_font_family = "Fira Code",
  code_font_url    = "https://cdn.rawgit.com/tonsky/FiraCode/1.204/distr/fira_code.css"
)
```


# Outline

###- What is version control and why should you use it
###- What is Git and GitHub
###- Getting set up using RStudio
###- The basics
###- Additional features

???

Abstract


---
# Why do version control?

.pull-left[
<br>
1. Keep track of the history of changes made to your work

2. Collaborate on your work in synch, manage conflicts

3. Share the most up-to-date version (and other versions) of your work

4. Publish your work (GitPage)
]

.pull-right[
![](images/finalfinal.gif)

]
???

For straightforward coding project, there is a single person and two points: start and end. However, when the project increases in complexity, there can be other steps in the process, such as bug fixes, feature requests, and reverts (opps!). With many points in the development timeline, it can be really useful to have control over the versions along the development path and the development history overall. 


---
background-image: url(images/git.png)
background-size: cover

???

There are a number of different software available to do version control. You might have heard of a few, most notable are Apache Subversion (SVN) and Git. Because R users have generally adopted Git (and GitHub) for package development, we will focus on Git today.

Git is a free and open source distributed version control system designed to handle everything from small to very large projects with speed and efficiency.

---
# How does it work?

.center[![:scale 75%](images/git_steps.png)]

???

1. Create some work locally in your working directory. 
2. **git add** adds these changes to the staging area. 
3. **git commit** commits these changes to the local repository on your computer (a folder). Each tree node, commit and files has own unique 40 character long SHA-1 representation(We can say thatâ€™s the key). Thus those elements are added to a tree data structure which is persisted inside .git/objects folder.
4. You can repeat this and even just continue to use local version control. 
5. **git push** pushes the changes that you committed to the remote repository. For the examples today, this would be a repository on GitHub. 
6. **git pull** updates the local repository with changes from the remote repository.


Git handles content in snapshots, one for each commit, and knows how to apply or roll back the change sets between two snapshots.


---
background-image: url(images/github.jpg)
background-size: cover


---
# Getting started with GitHub and RStudio

- Download **git** ([here](https://git-scm.com/download/win)) and install it (requires admin).  

- In **RStudio**, navigate to "*Tools/Global Options/Git/SVN*" and:  
    + Check the box for "Enable version control interface for RStudio projects".
    + Direct RStudio to your git executable file (git.exe). The default location is: "*C:/Program Files/Git/bin/git.exe*".
    + Create an SSH/RSA key.
    
- In **GitHub**
    + Create a GitHub user account ([here](https://github.com/join)).
    + Ask to join the FWS GitHub organization ([@USFWS](https://github.com/USFWS)).
    + Add the SSH key that you created in RStudio to your GitHub account ("*Settings/SSH and GBG keys/New SSH key*"). You only need to do this once.
  + Create a GitHub repository in USFWS Github organization by emailing one of the owners listed [here](https://github.com/orgs/USFWS/people?page=2).
    

---
# Options...

<br>
<br>
## 1. Create a New Version Control RStudio Project  
<br>
## 2. Add Version Control to an Existing Rstudio Project


---
# Create a New Version Control RStudio Project

- In RStudio:
    * Create a *New Project*. Select *Version Control* and then *Git*. Enter your repository's URL. **Note that this is password-protected SSH URL (_NOT THE HTTP URL!_)**. For example *git@github.com:your-user-name/your-repo.git*. Name the project and assign a directory. Save the project.
    * Create (or copy) your R project files into the new folder containing the R project you just created. 
    * Under the *Git* tab, check the box next the files and folders that you want included. Select *Commit*. Add Commit Message and Commit them, and then Push them. 
        
- In GitHub:
    * Check your new GitHub repo to verify that your project files are now there.


---
# Glossary of terms
 
**Branch** A named pointer to a specific snapshot. It notes the place where new changes should be applied to when this branch is used. When a change is applied to a branch, then also the branch label moves to the new commit.  
**Commit** (*verb and noun*): Create a snapshot and the name of the resulting snapshot.  
**Diff**: Shows the difference of between the working directory and the given branch.  
**Folk**: A copy of the remote repository that you manage. Forks let you make changes to a project without affecting the original repository. You can fetch updates from or submit changes to the original repository with pull requests.
**Git**:  
**GitHub**: A website for hosting projects that use git.  
**Gitignore**:  
**History**:  
**Merge**:  Merges the given branch into the current branch.
**Origin**:  
**Pull**:  
**Push**: Updates remote branch and local copy of the remote branch. Allows you to create new branches in the remote repository.    
**Revert**:  Rolls back one or more patch sets on the working directory, then creates a new commit on the result.  
**Shell**:  
**Snapshot**: A version created by the commit operation.  
**SSA Key**:  
**Stage**:   


---
class: center, middle

# Demo

???

1. Creating a repository in GitHub
2. Creating an Rstudio project with version control
    a. Cloning a GitHub repository to a local repository.
    b. Creating an empty RStudio project/package, creating content, and pushing content to an empty GitHub repository.
3. Installing an R package from GitHub
